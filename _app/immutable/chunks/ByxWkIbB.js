import{b as _,h as b,d as q,E as D,r as H,H as L,e as O,g as Y,i as o,j as E,k as h,l as S,p as v,U as p,m as F,n as U,o as j,u as B,q as C,S as M}from"./DzEooLPW.js";function Z(i,t,[r,a]=[0,0]){b&&r===0&&q();var f=i,s=null,l=null,c=p,R=r>0?D:0,n=!1;const k=(e,u=!0)=>{n=!0,I(u,e)},I=(e,u)=>{if(c===(c=e))return;let A=!1;if(b&&a!==-1){if(r===0){const T=H(f);T===L?a=0:T===O?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=c?1/0:-1))}const g=a>r;!!c===g&&(f=Y(),o(f),E(!1),A=!0,a=-1)}c?(s?h(s):u&&(s=S(()=>u(f))),l&&v(l,()=>{l=null})):(l?h(l):u&&(l=S(()=>u(f,[r+1,a]))),s&&v(s,()=>{s=null})),A&&E(!0)};_(()=>{n=!1,t(k),n||I(null,null)},R),b&&(f=F)}function N(i,t){return i===t||i?.[M]===t}function w(i={},t,r,a){return U(()=>{var f,s;return j(()=>{f=s,s=[],B(()=>{i!==r(...s)&&(t(i,...s),f&&N(r(...f),i)&&t(null,...f))})}),()=>{C(()=>{s&&N(r(...s),i)&&t(null,...s)})}}),i}export{w as b,Z as i};
