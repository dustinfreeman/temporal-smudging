import{d as g,h as b,i as D,E as H,r as L,H as O,j as Y,k as o,s as p,l as E,m as h,n as v,p as S,U as q,o as F,t as U,u as j,v as w,w as B,S as C}from"./CdWPQDNH.js";function P(i,t,[r,a]=[0,0]){b&&r===0&&D();var f=i,s=null,l=null,c=q,R=r>0?H:0,n=!1;const k=(e,u=!0)=>{n=!0,I(u,e)},I=(e,u)=>{if(c===(c=e))return;let A=!1;if(b&&a!==-1){if(r===0){const T=L(f);T===O?a=0:T===Y?a=1/0:(a=parseInt(T.substring(1)),a!==a&&(a=c?1/0:-1))}const _=a>r;!!c===_&&(f=o(),p(f),E(!1),A=!0,a=-1)}c?(s?h(s):u&&(s=v(()=>u(f))),l&&S(l,()=>{l=null})):(l?h(l):u&&(l=v(()=>u(f,[r+1,a]))),s&&S(s,()=>{s=null})),A&&E(!0)};g(()=>{n=!1,t(k),n||I(null,null)},R),b&&(f=F)}function N(i,t){return i===t||i?.[C]===t}function Z(i={},t,r,a){return U(()=>{var f,s;return j(()=>{f=s,s=[],w(()=>{i!==r(...s)&&(t(i,...s),f&&N(r(...f),i)&&t(null,...f))})}),()=>{B(()=>{s&&N(r(...s),i)&&t(null,...s)})}}),i}export{Z as b,P as i};
